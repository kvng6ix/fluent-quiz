<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fluent Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: radial-gradient(circle at top, #0f0f0f, #000);
      font-family: 'Inter', sans-serif;
      color: white;
    }
    .fade-in {
      animation: fadeIn 1s ease-in-out;
    }
    .slide-up {
      animation: slideUp 0.8s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen px-4">

  <!-- Quiz Container -->
  <div id="quizContainer" class="bg-neutral-900 shadow-xl rounded-2xl p-6 max-w-xl w-full fade-in">
    <h1 class="text-3xl font-bold mb-4 text-center text-green-400">Fluent Quiz</h1>
    
    <form id="quizForm" class="space-y-6">
      <div>
        <label class="block mb-2 font-semibold">Enter your name</label>
        <input type="text" id="userName" class="w-full p-2 rounded-lg bg-neutral-800 border border-neutral-700 focus:outline-none focus:ring-2 focus:ring-green-500">
      </div>

      <div>
        <label class="block mb-2 font-semibold">Upload your avatar (PNG/JPG)</label>
        <input type="file" id="avatarInput" accept="image/png, image/jpeg" class="w-full text-sm">
      </div>

      <!-- Example Questions -->
      <div>
        <p class="font-semibold mb-2">1. What does Fluent focus on?</p>
        <label class="block"><input type="radio" name="q1" value="1"> DeFi</label>
        <label class="block"><input type="radio" name="q1" value="0"> Gaming</label>
      </div>

      <div>
        <p class="font-semibold mb-2">2. Which is a key feature of Fluent?</p>
        <label class="block"><input type="radio" name="q2" value="1"> Expressive IDs</label>
        <label class="block"><input type="radio" name="q2" value="0"> Photo filters</label>
      </div>

      <button type="submit" class="w-full py-2 rounded-lg bg-green-500 text-black font-bold hover:bg-green-400 transition-colors">
        Submit & Generate ID
      </button>
    </form>
  </div>

  <!-- ID Card -->
  <div id="idCard" class="hidden bg-neutral-900 shadow-2xl rounded-2xl p-6 max-w-md w-full mt-6 text-center slide-up">
    <h2 class="text-xl font-bold mb-2 text-green-400">FLUENT EXPRESSIVE ID</h2>
    <div id="avatarBox" class="flex justify-center mb-4"></div>
    <p id="displayName" class="text-lg font-semibold"></p>
    <p id="quizResult" class="text-green-300 mt-2"></p>
    <p id="userRank" class="text-yellow-400 font-bold mt-1"></p>
  </div>

  <!-- Footer -->
  <footer class="mt-8 text-neutral-500 text-sm">
    built for fluent community by <span class="text-green-400">0xbito</span>
  </footer>

  <script>
    const quizForm = document.getElementById("quizForm");
    const idCard = document.getElementById("idCard");
    const displayName = document.getElementById("displayName");
    const quizResult = document.getElementById("quizResult");
    const userRank = document.getElementById("userRank");
    const avatarInput = document.getElementById("avatarInput");
    const avatarBox = document.getElementById("avatarBox");

    quizForm.addEventListener("submit", function(e) {
      e.preventDefault();

      let score = 0;
      const answers = new FormData(quizForm);
      for (let [key, value] of answers.entries()) {
        score += parseInt(value);
      }

      const name = document.getElementById("userName").value || "Anonymous";

      // Rank system
      let rank = "";
      if (score <= 3) rank = "Novice";
      else if (score <= 6) rank = "Explorer";
      else if (score <= 8) rank = "Builder";
      else rank = "Fluent Master";

      displayName.innerText = name;
      quizResult.innerText = `Your Score: ${score}/10`;
      userRank.innerText = `Rank: ${rank}`;

      // Avatar preview
      avatarBox.innerHTML = "";
      if (avatarInput.files[0]) {
        const img = document.createElement("img");
        img.src = URL.createObjectURL(avatarInput.files[0]);
        img.classList.add("w-24", "h-24", "rounded-full", "border-2", "border-green-400", "shadow-lg");
        avatarBox.appendChild(img);
      }

      idCard.classList.remove("hidden");
    });
  </script>

</body>
</html>
